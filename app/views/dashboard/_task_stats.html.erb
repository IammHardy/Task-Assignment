<% tasks ||= [] %>

<% total = tasks.size %>
<% pending = tasks.count { |t| t.status == "pending" } %>
<% completed = tasks.count { |t| t.status == "completed" } %>
<% overdue = tasks.count { |t| t.status == "overdue" } %>


<div class="bg-white shadow-lg rounded-lg p-6 hover:shadow-xl transition w-full flex items-center space-x-2">
  <h3 class="text-gray-500 font-semibold">Total Tasks</h3>
  <p class="text-2xl font-bold text-gray-800"><%= total %></p>
</div>
<div class="bg-white shadow-lg rounded-lg p-6 hover:shadow-xl transition w-full">
  <h3 class="text-gray-500 font-semibold mb-2">Pending Tasks</h3>
  <p class="text-2xl font-bold text-yellow-600"><%= pending %></p>
  <div class="bg-gray-200 h-2 rounded-full overflow-hidden">
    <div class="h-2 bg-yellow-500 animate-fill" data-width="<%= total > 0 ? (pending.to_f / total * 100).round : 0 %>"></div>
  </div>
</div>
<div class="bg-white shadow-lg rounded-lg p-6 hover:shadow-xl transition w-full">
  <h3 class="text-gray-500 font-semibold mb-2">Completed Tasks</h3>
  <p class="text-2xl font-bold text-green-600"><%= completed %></p>
  <div class="bg-gray-200 h-2 rounded-full overflow-hidden">
    <div class="h-2 bg-green-500 animate-fill" data-width="<%= total > 0 ? (completed.to_f / total * 100).round : 0 %>"></div>
  </div>
</div>
<div class="bg-white shadow-lg rounded-lg p-6 hover:shadow-xl transition w-full">
  <h3 class="text-gray-500 font-semibold mb-2">Overdue Tasks</h3>
  <p class="text-2xl font-bold text-red-600"><%= overdue %></p>
  <div class="bg-gray-200 h-2 rounded-full overflow-hidden">
    <div class="h-2 bg-red-500 animate-fill" data-width="<%= total > 0 ? (overdue.to_f / total * 100).round : 0 %>"></div>
  </div>
</div>
